<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Aula 32 - Eventos</title>
		<link rel="stylesheet" href="./src/css/style.css" />
	</head>
	<body>
		<button id="menu-btn">X</button>
		<nav id="menu">
			<ul id="menu-ul"></ul>
		</nav>

		<!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-->

		<main>
			<article>
				<h2>Aula 32 - Eventos</h2>

				<p>
					Eventos são ações que acontecem na página HTML. Podem ser relacionados
					a várias coisa, como por exemplo quando a página terminou de carregar.
					Mas geralmente estamos interessados em ações do usuário: quando o
					usuário rola a página, clica com o mouse em um elemento, passa o mouse
					em cima de um elemento, clica em uma tecla, entre outros.
				</p>

				<p>
					Veremos como lidar com eventos, e estudaremos alguns deles. Para uma
					lista completa de eventos
					<a href="https://developer.mozilla.org/pt-BR/docs/Web/Events"
						>clique aqui.</a
					>
				</p>

				<h3>Ouvindo Eventos</h3>

				<p>
					A idéia de eventos é que nós podemos saber quando um evento ocorre e
					podemos realizar uma ação, por exemplo quando o usuário clicar em um
					botão queremos mostrar uma mensagem.
				</p>

				<p>
					Para isso precisamos "ouvir" o evento, ou seja, observar quando ele
					aconteceu, e depois realizar nossa ação.
				</p>

				<p>
					Fazemos isso com o método <strong>addEventListener</strong>, que
					recebe dois parâmetros: o tipo do evento; e uma função que é executada
					quando o evento ocorre.
				</p>

				<p>
					No exemplo abaixo criamos um botão e queremos alertar uma mensagem
					quando ele é clicado:
				</p>

				<p>No index.html:</p>

				<pre>
					<code>
	&lt;input id="idDoBotao" type="button" value="Clique Aqui!"/&gt;
	&lt;script src="app.js"&gt;&lt;/script&gt;
					</code>
				</pre>

				<p>No app.js:</p>

				<pre>
					<code>
	let botao = document.getElementById("idDoBotao");
	botao.addEventListener('click', function(){
		alert("Obrigado por clicar!");
	});
					</code>
				</pre>

				<p>
					Existem outras duas maneiras de "ouvir" um evento, porém o
					addEventListener é a melhor, pois com ela é possível criar mais de uma
					função para cada evento e ela funciona com todos eventos. Já as outras
					maneiras funcionam apenas com alguns eventos, e não permitem criar
					duas funções.
				</p>

				<h3>Click</h3>

				<p>
					Já vimos no exemplo anterior o evento <strong>click</strong> que
					corresponde ao clique com o botão principal (esquerdo) do mouse. É um
					dos eventos mais usados, por exemplo queremos um botão que quando
					clicado muda a cor de fundo do site:
				</p>

				<p>No index.html:</p>

				<pre>
					<code>
	&lt;input id="idDoBotao" type="button" value="Clique Aqui!"/&gt;
	&lt;script src="app.js"&gt;&lt;/script&gt;
					</code>
				</pre>

				<p>No app.js:</p>

				<pre>
					<code>
	let botao = document.getElementById("idDoBotao");
	botao.addEventListener("click", function() {
		document.body.style.backgroundColor =
			"rgb(" +
			Math.floor(Math.random() * 256) +
			"," +
			Math.floor(Math.random() * 256) +
			"," +
			Math.floor(Math.random() * 256) +
			")";
	});
					</code>
				</pre>

				<h3>MouseOver</h3>

				<p>
					Outro Evento muto usado é o <strong>mouseover</strong>, ou seja,
					quando passamos o cursor do mouse em cima de um elemento:
				</p>

				<p>No index.html:</p>

				<pre>
					<code>
	&lt;h1 id="meuH1"&gt;Passe o Mouse em cima!&lt;/h1&gt;
	&lt;h2 id="meuH2"&gt;&lt;/h2&gt;
	&lt;script src="app.js"&gt;&lt;/script&gt;
					</code>
				</pre>

				<p>No app.js:</p>

				<pre>
					<code>
	let h1 = document.getElementById("meuH1");
	let h2 = document.getElementById("meuH2");
	h1.addEventListener("mouseover", function() {
		h2.textContent = "Olá Mundo!";
		h1.style.color = "red";
	});
					</code>
				</pre>

				<h3>Scroll</h3>

				<p>
					Outro Evento muto usado é o <strong>scroll</strong>, ou seja, quando
					rolamos a página. Ele é muito usado com uma propriedade chamada
					<strong>pageYOffset</strong> que corresponde a quantidade de pixels
					rolada para baixo, em relação ao início da página. Podemos criar
					efeitos muito legais com isso, veja o exemplo:
				</p>

				<p>No index.html:</p>

				<pre>
					<code>
	&lt;div&gt;
		&lt;div id="bg-img"&gt;&lt;/div&gt;
	&lt;/div&gt;
	&lt;div&gt;
		&lt;h1&gt;Homem de Ferro, ferrado no espaço.&lt;/h1&gt;
	&lt;/div&gt;
					</code>
				</pre>

				<p>No style.css:</p>

				<pre>
					<code>
	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}
	#bg-img {
		background: url("https://i.imgur.com/oFK7wf5.jpg");
		background-attachment: fixed;
		background-size: cover;
	}
	div {
		min-height: 100vh;
		background-color: black;
	}
	h1 {
		color: white;
		text-align: center;
		padding-top: 25%;
	}
					</code>
				</pre>

				<p>No app.js:</p>

				<pre>
					<code>
	window.addEventListener("scroll", function() {
		let bg = document.getElementById("bg-img");
		bg.style.opacity = 1 - pageYOffset / 650;
	});
					</code>
				</pre>

				<h3>Exercício</h3>

				<h4>Calculadora</h4>

				<p>
					O professor criou uma calculadora muito bonita usando HTML e CSS. Mas
					ela não funciona. :(
				</p>
				<p>Sua missão é fazer ela funcionar usando JavaScript! Boa sorte!</p>

				<p>index.html</p>

				<pre>
					<code>
	&lt;div id="container"&gt;
		&lt;span id="tela">&lt;/span&gt;
		&lt;div&gt;7&lt;/div&gt;
		&lt;div&gt;8&lt;/div&gt;
		&lt;div&gt;9&lt;/div&gt;
		&lt;div&gt;/&lt;/div&gt;
		&lt;div&gt;%&lt;/div&gt;
		&lt;div&gt;4&lt;/div&gt;
		&lt;div&gt;5&lt;/div&gt;
		&lt;div&gt;6&lt;/div&gt;
		&lt;div&gt;*&lt;/div&gt;
		&lt;div&gt;(&lt;/div&gt;
		&lt;div&gt;1&lt;/div&gt;
		&lt;div&gt;2&lt;/div&gt;
		&lt;div&gt;3&lt;/div&gt;
		&lt;div&gt;-&lt;/div&gt;
		&lt;div&gt;)&lt;/div&gt;
		&lt;div&gt;.&lt;/div&gt;
		&lt;div&gt;0&lt;/div&gt;
		&lt;span id="igual"&gt;=&lt;/span&gt;
		&lt;div&gt;+&lt;/div&gt;
		&lt;span id="clear"&gt;C&lt;/span&gt;
	&lt;/div&gt;
					</code>
				</pre>

				<p>styl.css</p>

				<pre>
					<code>
	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}
	body {
		min-height: 100vh;
		display: flex;
		justify-content: center;
		align-items: center;
		font-family: monospace;
		background: linear-gradient(rgb(200, 200, 230), rgb(110, 110, 160));
	}
	#container {
		display: grid;
		grid-template: repeat(5, 60px) / repeat(5, 60px);
		box-shadow: 0 0 3px black;
		border: 1px solid black;
	}
	#container > * {
		border: 1px solid black;
		text-align: center;
		font-size: 20px;
		line-height: 60px;
		background-color: rgb(110, 110, 160);
		color: white;
		cursor: pointer;
	}
	#tela {
		grid-column: span 5;
		text-align: right;
		padding-right: 5px;
		cursor: default;
		background-color: rgb(180, 180, 220);
		color: rgb(40, 40, 40);
		overflow: hidden;
	}
	#igual,
	#clear {
		background-color: rgb(90, 90, 190);
		color: white;
	}
	#container > *:hover {
		opacity: 0.8;
	}
	#tela:hover {
		opacity: 1;
	}
					</code>
				</pre>
			</article>
		</main>

		<!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-->

		<script src="./src/js/menu.js">
			//RESPOSTA DO EXERCÍCIO
			/*
				let tela = document.getElementById("tela");
				let igual = document.getElementById("igual");
				let clear = document.getElementById("clear");
				let teclas = document.querySelectorAll("#container > div");

				igual.addEventListener("click", function() {
					tela.textContent = eval(tela.textContent);
				});

				clear.addEventListener("click", function() {
					tela.textContent = "";
				});

				for (let i = 0; i < teclas.length; i++) {
					teclas[i].addEventListener("click", function() {
						tela.textContent += teclas[i].textContent;
					});
				}
			*/
		</script>
	</body>
</html>
